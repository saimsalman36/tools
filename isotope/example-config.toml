# Runs each topology on all environments.
topology_paths = [
  "example-topologies/canonical.yaml",
]

policy_files = [
  "example-policies/canonical.yaml",
]

environments = [
  "ISTIO",
]

[cluster]
project_id = "absolute-garden-516"
# Cluster will be created with one n1-standard-1 node in the default node-pool
# running Prometheus. In total, the cluster will have 1 Prometheus node, 1
# client node, and N service-graph nodes (total of N + 2 nodes).
name = "exp-7"
zone = "us-central1-a"
version = "1.12.7-gke.25"

[istio]
archive_url = "https://github.com/istio/istio/releases/download/1.2.2/istio-1.2.2-linux.tar.gz"

[server]
machine_type = "n1-standard-1"
disk_size_gb = 32
num_nodes = 10
image = "saimsalman/isotope:v4"

[client]
machine_type = "n1-highcpu-4"
disk_size_gb = 16
# Necessary fork to allow Fortio's server to output Prometheus metrics.
image = "tahler/fortio:prometheus"
# "max" is a special string, otherwise use a number.
qps = "100"
duration = "1m"
num_concurrent_connections = 10
